<oe-modal [title]="this.component.alias" [component]="component" [formGroup]="formGroup" *ngIf="isInitialized">

  <oe-modal-line [name]="'General.state' | translate" [channelAddress]="component.id + '/_PropertyMode'"
    [converter]="CONVERT_MANUAL_ON_OFF">
  </oe-modal-line>

  <ng-container *ngIf="formGroup.value.mode === 'MANUAL_ON'">
    <oe-modal-line [name]="'General.targetGridSetpoint' | translate" [value]="chargeDischargePower.value"
      [converter]="CONVERT_TO_WATT">
    </oe-modal-line>
  </ng-container>

  <oe-modal-horizontal-line></oe-modal-horizontal-line>

  <oe-modal-buttons [formGroup]="formGroup" controlName="mode" [component]="component" [buttons]="[
    { name: ('General.on' | translate), value: 'MANUAL_ON', icon: {color:'success', name: 'power-outline'}},
    { name: ('General.off' | translate), value: 'MANUAL_OFF', icon: {color:'primary', name: 'power-outline'}}]">
  </oe-modal-buttons>

  <oe-modal-horizontal-line></oe-modal-horizontal-line>

  <ng-container *ngIf="formGroup.value.mode === 'MANUAL_ON'">
    <oe-modal-line [name]="'General.targetGridSetpoint' | translate" [formGroup]="formGroup"
      controlName="targetGridSetpoint" [control]="{type: 'INPUT'}">
    </oe-modal-line>

    <oe-modal-horizontal-line></oe-modal-horizontal-line>
  </ng-container>

  <oe-modal-info-line
    [info]="'Edge.Index.Widgets.TargetGridSetpoint' | translate">
  </oe-modal-info-line>

</oe-modal>
